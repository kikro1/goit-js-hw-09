{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formRef = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nformRef.addEventListener('input', () => {\n  const email = formRef.elements.email.value.trim();\n  const message = formRef.elements.message.value.trim();\n  const userData = {\n    email,\n    message,\n  };\n  saveToLS(STORAGE_KEY, userData);\n});\n\nfunction saveToLS(key, value) {\n  const saveValue = JSON.stringify(value);\n  localStorage.setItem(key, saveValue);\n}\n\nfunction getFromLS(key) {\n  const loadData = localStorage.getItem(key);\n  try {\n    return JSON.parse(loadData);\n  } catch (error) {\n    return loadData;\n  }\n}\nconst initalizationForm = () => {\n  const userStorageData = getFromLS(STORAGE_KEY) || {};\n\n  formRef.elements.email.value = userStorageData.email ?? '';\n  formRef.elements.message.value = userStorageData.message ?? '';\n};\ninitalizationForm();\n\nformRef.addEventListener('submit', e => {\n  e.preventDefault();\n  if (\n    formRef.elements.email.value !== '' &&\n    formRef.elements.message.value !== ''\n  ) {\n    console.log(getFromLS(STORAGE_KEY) ?? '');\n    localStorage.removeItem(STORAGE_KEY);\n    formRef.reset();\n  }\n});\n"],"names":["formRef","STORAGE_KEY","email","message","saveToLS","key","value","saveValue","getFromLS","loadData","initalizationForm","userStorageData"],"mappings":"oDAAA,MAAMA,EAAU,SAAS,cAAc,gBAAgB,EAEjDC,EAAc,sBAEpBD,EAAQ,iBAAiB,QAAS,IAAM,CACtC,MAAME,EAAQF,EAAQ,SAAS,MAAM,MAAM,OACrCG,EAAUH,EAAQ,SAAS,QAAQ,MAAM,OAK/CI,EAASH,EAJQ,CACf,MAAAC,EACA,QAAAC,CACJ,CACgC,CAChC,CAAC,EAED,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAY,KAAK,UAAUD,CAAK,EACtC,aAAa,QAAQD,EAAKE,CAAS,CACrC,CAEA,SAASC,EAAUH,EAAK,CACtB,MAAMI,EAAW,aAAa,QAAQJ,CAAG,EACzC,GAAI,CACF,OAAO,KAAK,MAAMI,CAAQ,CAC3B,MAAe,CACd,OAAOA,CACR,CACH,CACA,MAAMC,EAAoB,IAAM,CAC9B,MAAMC,EAAkBH,EAAUP,CAAW,GAAK,CAAA,EAElDD,EAAQ,SAAS,MAAM,MAAQW,EAAgB,OAAS,GACxDX,EAAQ,SAAS,QAAQ,MAAQW,EAAgB,SAAW,EAC9D,EACAD,IAEAV,EAAQ,iBAAiB,SAAU,GAAK,CACtC,EAAE,eAAc,EAEdA,EAAQ,SAAS,MAAM,QAAU,IACjCA,EAAQ,SAAS,QAAQ,QAAU,KAEnC,QAAQ,IAAIQ,EAAUP,CAAW,GAAK,EAAE,EACxC,aAAa,WAAWA,CAAW,EACnCD,EAAQ,MAAK,EAEjB,CAAC"}